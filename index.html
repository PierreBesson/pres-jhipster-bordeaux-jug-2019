<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Developing a Microservice architecture with JHipster</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">
		<link rel="stylesheet" href="css/font-awesome.min.css">
		<link rel="stylesheet" href="css/star.css">
		<link rel="stylesheet" href="css/material-icons.css">

		<link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background="#3E8ACC" data-transition="none" data-background-transition="none">
					<div style="font-family:Pacifico;font-size:120%;">Developing a Microservice architecture with JHipster</div>
					<img src="img/family1.png" style="border:none;box-shadow:none;width:35%"/>
					<hr class="star-light" style="line-height:1">
					<div style="font-family:Pacifico;font-size:80%;">Pierre Besson</div>
					<div style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size:60%;">Bordeaux JUG, March 21st, 2019</div>
					<img src="img/ippon.png" width="15%" style="border:none;box-shadow:none;background-color:#3e8acc;"/>
				</section>
				<section data-background="#3E8ACC" data-transition="none" data-background-transition="none">
					<div style="font-family:Pacifico;font-size:120%;">Developing a Microservice architecture with JHipster</div>
					<img src="img/family2.png" style="border:none;box-shadow:none;width:35%"/>
					<hr class="star-light" style="line-height:1">
					<div style="font-family:Pacifico;font-size:80%;">Pierre Besson</div>
					<div style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size:60%;">Bordeaux JUG, March 21st, 2019</div>
					<img src="img/ippon.png" width="15%" style="border:none;box-shadow:none;background-color:#3e8acc;"/>
				</section>
				<section data-background="#3E8ACC" data-transition="none" data-background-transition="none">
					<div style="font-family:Pacifico;font-size:120%;">Developing a Microservice architecture with JHipster</div>
					<img src="img/family3.png" style="border:none;box-shadow:none;width:35%"/>
					<hr class="star-light" style="line-height:1">
					<div style="font-family:Pacifico;font-size:80%;">Pierre Besson</div>
					<div style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size:60%;">Bordeaux JUG, March 21st, 2019</div>
					<img src="img/ippon.png" width="15%" style="border:none;box-shadow:none;background-color:#3e8acc;"/>
				</section>
				<section data-background="#3E8ACC" data-transition="none" data-background-transition="none">
					<div style="font-family:Pacifico;font-size:120%;">Developing a Microservice architecture with JHipster</div>
					<img src="img/family4.png" style="border:none;box-shadow:none;width:35%"/>
					<hr class="star-light" style="line-height:1">
					<div style="font-family:Pacifico;font-size:80%;">Pierre Besson</div>
					<div style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size:60%;">Bordeaux JUG, March 21st, 2019</div>
					<img src="img/ippon.png" width="15%" style="border:none;box-shadow:none;background-color:#3e8acc;"/>
				</section>
				<section>
					<section>
						<h3>Who am I ?</h3>
						<hr class="star-primary">
						<div style="float:left;width:50%;">
							<img src="img/photo.jpeg" width="260" style="box-shadow:none;border:none"/>
							<h3>Pierre Besson</h3>
							<p><a href="http://twitter.com/pibesson"><i class="fa fa-twitter"></i>
	@pibesson</a></p>
							<p><a href="mailto:pbesson@ippon.fr">pbesson@ippon.fr</a></p>
						</div>
						<br>
						<br>
						<div style="float:right;width:50%;font-size:80%">
							<ul>
								<li>Java developer @IpponTech</li>
								<li>FullStack & DevOps</li>
								<li>JHipster core team member</li>
								<li>Favorite technologies:
									<ul style="list-style-type: none">
										<li>üçÉ Spring</li>
										<li>üê≥ Docker</li>
										<li>‚ò∏Ô∏è Kubernetes</li>
									</ul>
								</li>
						</div>
					</section>
					<section>
						<img src="img/ippon.png" alt="" style="border:none;box-shadow:none" width="25%">
						<ul style="font-size:80%">
							<li>380 collaborators worldwide</li>
							<li>6 cities in France : Paris, Nantes, Lyon, Bordeaux, Toulouse, Lille</li>
							<li>Confs : Devoxx, BDX.IO, MixIT, JUGs sponsor</li>
						</ul>

						<img src="img/blackbelt.jpg" alt="" width="45%">
						<img src="img/ipponBordeaux.jpg" alt="" width="45%">
					</section>
				</section>
			</section>
			<section>
					<section>
						<h2>Microservices ?</h2>
						<div style="font-size: 200%;color:greenyellow"> <i class="fa fa-cloud"></i> <i class="fa fa-cloud"></i> <i class="fa fa-cloud"></i></div>
						<h4 style="font-size:70%">Why microservices ?</h4>
						<h4 style="font-size:70%">Microservices patterns</h4>
						<h4 style="font-size:70%">Beyond the hype</h4>
					</section>
					<section>
						<h3>Why microservices ?</h3>
						<hr class="star-primary">
 							 <div style="text-align: left; float: left;width:40%">
								<img src="img/building-microservices.jpg" width="90%"" style="border:none;">
							</div>
 							 <div style="text-align: right; float: right;width:60%">
							<ul style="font-size: 70%;list-style-type: none">
								<li class="fragment"><i class="fa fa-cubes"></i> ‚ÄúMicroservices are small, autonomous services that work together‚Äù (Sam Newman)</li>
								<br>
								<li class="fragment"><i class="fa fa-sitemap"></i> Develop your organisation's software as a distributed system to "scale your teams"</li>
								<br>
								<li class="fragment"><i class="fa fa-hand-o-up"></i> Emphasis on :
									 <ul style="font-size: 90%;">
										 <li>Technology Heterogeneity</li>
										 <li>Evolutionary architecture</li>
										 <li>Resilience</li>
										 <li>Ease and speed of deployment</li>
										 <li>Organizational Alignment</li>
										 <li>Composability</li>
									</ul>
								</li>
							</ul>
							</div>
					</section>
					<section>
						<h3>Microservices patterns</h3>
						<img src="img/PatternsRelatedToMicroservices.jpg" width="80%">
						<a style="font-size: 50%" href="http://microservices.io/patterns/microservices.html">microservices.io/patterns/microservices.html</a>
						</section>
						<!-- <section>
						<h3>Beyond the hype</h3>
						<hr class="star-primary">
						<p style="font-size: 80%" ></p>
							<ul style="font-size: 70%;">
									<li class="fragment">Not simpler than monoliths</li>
									<li class="fragment">Choosing the right decomposition is hard</li>
									<li class="fragment">Good idea to start with a monolith</li>
									<li class="fragment">‚Äú<strong>Architect‚Äôs Dream, Developer‚Äôs Nightmare</strong>‚Äù</li>
									<li class="fragment"><strong>"You are not Google"</strong></li>
									<li class="fragment">Demands great efforts to change your organisation culture to fit the microservice world</li>
							</ul>
						</section> -->
			</section>
			<section>
					<section>
						<h2>JHipster as a microservice platform</h2>
						<div style="font-size: 200%;color: gold"><i class="fa fa-fort-awesome"></i></div>
						<h4 style="font-size:70%">JHipster goals</h4>
						<h4 style="font-size:70%">Extending JHipster for microservices</h4>
						<h4 style="font-size:70%">Monolith vs Microservices</h4>
						<h4 style="font-size:70%">Technologies used<h4>
						<h4 style="font-size:70%">The JHipster Microservice Stack</h4>
					</section>
					<section>
						<h3>JHipster goals</h3>
						<div style="font-size: 200%;color:lightskyblue">
							<img src="img/logo/jhipster_family_member_1_head.svg" width="20%" style="border:none;box-shadow:none;">
							<img src="img/logo/jhipster_family_member_3_head.svg" width="15%" style="border:none;box-shadow:none;">
							<img src="img/logo/jhipster_family_member_2_head.svg" width="15%" style="border:none;box-shadow:none;">
							<img src="img/logo/jhipster_family_member_0_head.svg" width="20%" style="border:none;box-shadow:none;">
						</div>
						<hr class="star-primary">
						<ul style="font-size: 90%;list-style-type: none;">
							<li class="fragment">üèóÔ∏è Provide <strong>scaffolding</strong> for a Full Stack application</li>
							<li class="fragment">üí† Based on <strong>modern technologies</strong></li>
							<li class="fragment">üîß Maximize development <strong>productivity</strong> with tooling</li>
							<li class="fragment">üìà <strong>Production ready</strong> (maintainable, secure, scalable)</li>
							<!--<li><strong>DevOps ready</strong>: provide configuration for docker, CI...</li>-->
						</ul>
					</section>
					<section>
						<h2>JHipster</h2>
						<hr class="star-primary">
						<h2>from</h2>
						<h2 style="color:lightskyblue"> monolith <i class="fa fa-cube"></i></h2>
						<h2>to</h2>
						<h2 style="color:orangered">microservices <i class="fa fa-cubes"></i></h2>
					</section>
					<section>
						<h3>Extending JHipster for a microservice architecture</h3>
						<div style="font-size: 200%;color:orangered"><i class="fa fa-cubes"></i></div>
						<hr class="star-primary">
						<ul style="font-size: 80%;list-style-type: none;">
							<li class="fragment">üèóÔ∏è Generate several <strong>independent</strong> microservices and front-ends</li>
							<li class="fragment"><i class="fa fa-terminal"></i>Ô∏è Ô∏èWork <strong>out of the box</strong> in dev and in prod !</li>
							<li class="fragment"><i class="fa fa-cloud"></i> Implement Microservice patterns</li>
							<li class="fragment">üîíProvide distributed <strong>security</strong> options (JWT, Oauth2)</li>
							<li class="fragment"><i class="fa fa-puzzle-piece"></i> Generate entities back-end and front-end separately</li>
							<li class="fragment"><i class="fa fa-rocket"></i> Be <strong>DevOps ready</strong>: provide configuration for docker, CI-CD, Kubernetes...</li>
							<li class="fragment"><i class="fa fa-tachometer"></i> Provide a <strong>Monitoring</strong> solution</li>
						</ul>
					</section>
					<section>
						<h3>Monolith vs Microservices</h3>
						<hr class="star-primary">
						<p>
						<ul style="list-style-type:none; font-size: 70%">
						<li class="fragment" style="float:left"><span><i class="fa fa-cube"></i> Monolith:</span></li>
						<br>
						<li class="fragment">
							<ul style="float:left">
								<li>One application (Back-end + Front-end)</li>
							</ul>
						</li>
						<br><br>
						<li class="fragment" style="float:left"><span><i class="fa fa-cubes"></i> Microservice architecture:</span></li>
						<br>
						<li class="fragment">
							<ul style="float:left">
								<li class="fragment">Service Registry</li>
								<li class="fragment">Microservices (back-end only)</li>
								<li class="fragment">API Gateway</li>
								<li class="fragment">Front-ends</li>
								<li class="fragment">(Optional) OAuth2 server: UAA, Keycloak</li>
							</ul>
							<!-- <u class="fragment" style="float:right;">Istio stack (WIP)</u><br>
							<ul style="float:right;width:50%">
								<li class="fragment">Microservices (back-end only)</li>
								<li class="fragment">Istio sidecars (Client side LB + policies)</li>
								<li class="fragment">Istio Gateway</li>
								<li class="fragment">Frontend (deployed independently)</li>
							</ul> -->
						</li>
						</ul>
						</p>
					</section>
					<section>
						<h3>The JHipster Microservice Stack</h3>
						<hr class="star-primary">
						<div style="font-size:70%">2 supported options: <i class="fa fa-cloud"></i> Spring Cloud & ‚õµIstio</div>
						<br>
							<ul style="font-size: 70%;list-style-type:none">
								<li class="fragment"><i class="fa fa-television"></i> <strong>JHipster Registry</strong>: Application dashboard with management screens</li>
								<li class="fragment">‚õ©Ô∏è <strong>JHipster Gateway</strong>: API management with Zuul and Swagger docs</li>
								<li class="fragment">üîÅ <strong>CI-CD Configuration</strong>: Pipelines for Jenkins ü§µ, Travis üë∑, Gitlab <i class="fa fa-gitlab"></i></li>
								<li class="fragment">üöÄ <strong>Deployments</strong>: Docker üêã, Kubernetes ‚ò∏Ô∏è, OpenShift ‚≠ï</li>
								<li class="fragment"><i class="fa fa-tachometer"></i> <strong>JHipster Console</strong>: logs + metrics + traces (with ELK, Zipkin and Prometheus)</li>
							</ul>
					</section>
					<section>
						<h3>Spring Cloud stack</h3>
						<hr class="star-primary">
						<ul style="font-size: 70%">
						<li class="fragment">Mature and successfuly used in production at dozens of companies</li>
							<ul style="list-style-type: none;">
								<li class="fragment"><i class="fa fa-cloud"></i> Service discovery: Eureka/Consul</li>
								<li class="fragment"><i class="fa fa-sliders"></i> Centralized configuration: Spring Cloud Config</li>
								<li class="fragment">‚õ©Ô∏è API Gateway: Zuul</li>
								<li class="fragment">üîÄ Client side load balancing: Ribbon</li>
								<li class="fragment">‚ö° Circuit Breaker: Hystrix</li>
							</ul>
						<li class="fragment">Even though Netflix component are now in maintenance mode, choosing them is still a very good choice !</li>
						</ul>
					</section>
					<section>
						<h4>JHipster Spring Cloud Architecture</h4>
						<img src="img/microservices_architecture_2.png" alt="" width="90%" style="border:none;box-shadow:none">
						<a href="http://www.jhipster.tech/microservices-architecture/" style="font-size:60%">jhipster.tech/microservices-architecture/</a>
					</section>
					<section>
						<h3>Istio stack</h3>
						<hr class="star-primary">
						<ul style="font-size: 70%">
						<li class="fragment">A <i>Service Mesh</i> to implement microservice patterns <b>in the infrastructure</b></li>
							<ul style="list-style-type: none;">
								<li class="fragment"><i class="fa fa-cloud"></i> Service discovery: Kubernetes services</li>
								<li class="fragment"><i class="fa fa-sliders"></i> Centralized configuration: Kubernetes ConfigMaps</li>
								<li class="fragment">‚õ©Ô∏è API Gateway: Istio Gateway</li>
								<li class="fragment">üîÄ Client side load balancing: Istio Traffic management (through sidecar)</li>
								<li class="fragment">‚ö° Circuit Breaker: Istio Traffic management (through sidecar)</li>
								<!-- <li class="fragment">+ Additional capabilities: Canary testing, Traffic observability</li> -->
							</ul>
						</ul>
						<figure class="fragment" >
							<img style="border:none;box-shadow:none;margin:0;padding:0" width="35%" src="img/LoadBalancing.svg" alt="">
							<figcaption style="font-size: 50%"><a href="https://istio.io/docs/concepts/traffic-management/">istio.io/docs/concepts/traffic-management</a></caption>
						</figure>
					</section>
					<section>
							<h4>JHipster Istio Architecture</h4>
							<figure>
								<img src="img/Istio-jhipster.png" alt="" width="90%" style="border:none;box-shadow:none">
								<figcaption style="font-size:60%"><a href="https://blog.ippon.tech/istio-architectures-generated-by-jhipster/">blog.ippon.tech/istio-architectures-generated-by-jhipster</a> (Fabien Arrault)</figcaption>
							</figure>
						</section>
					<section>
						<h4>Summary</h3>
						<hr class="star-primary">
						<ul style="font-size: 70%">
						<table style="border-bottom: none">
							<thead>
								<tr>
									<th></th>
									<th>Spring Cloud</th>
									<th>Istio</th>
								</tr>
							</thead>
							<tbody>
							<tr>
								<td><b>Service Discovery</b></td>
								<td>Dedicated service (Eureka/Consul)</td>
								<td>Provided by the platform (Kubernetes)</td>
							</tr>
							<tr>
								<td><b>Configuration</b></td>
								<td>Dedicated service (Spring Config Server)</td>
								<td>Provided by platform (Kubernetes ConfigMaps)</td>
							</tr>
							<tr>
								<td><b>Load Balancing</b></td>
								<td>In the app (Ribbon)</td>
								<td>In the sidecar (Envoy)</td>
							</tr>
							<tr>
								<td><b>Circuit Breaker</b></td>
								<td>In the app (Hystrix)</td>
								<td>In the sidecar (Envoy)</td>
							</tr>
							<tr>
								<td><b>API Gateway</b></td>
								<td>Dedicated service (Zuul)</td>
								<td>Istio Gateway (Envoy)</td>
							</tr>
						</tbody>
						</table>
					</section>
					<!-- <section>
						<h5>JHipster Monitoring</h3>
						<hr class="star-primary">
						<div style="display: flex;align-items: center;justify-content: center; height: 100%">
							<img src="img/3ways.png" alt="architecture" style="border:none;box-shadow: none;" width="30%" height="30%">
							<img src="img/jhipster-console.svg" alt="architecture" style="border:none;box-shadow: none;">
						</div>
					</section> -->
				</section>
				<section>
					<h2>Show time</h2>
					<span style="color:red;font-size:300%">üéÜ</span>
					<h4 style="font-size:70%">Using JHipster to develop microservices</h4>
					<h4 style="font-size:70%">Running the full architecure with docker</h4>
				</section>
				<section>
					<h2>Let's go to production </h2>
					<span style="color:red;font-size:300%">üöÄ</span>	
					<h4 style="font-size:70%">Deploying microservices on Kubernetes</h4>
				</section>
				<section>
				<section>
					<h2>Questions ?</h2>
					<p><a href="http://twitter.com/pibesson"><i class="fa fa-twitter"></i>
@pibesson</a></p>
					<p><a href="https://github.com/PierreBesson"><i class="fa fa-github"></i> PierreBesson</a></p>
					<p><a href="mailto:pbesson@ippon.fr"><i class="fa fa-envelope"></i> pbesson@ippon.fr</a></p>
					<p>Slides available online<br><a href="https://pierre-besson.fr/pres-jhipster-bordeaux-jug-2019/">pierre-besson.fr/pres-jhipster-bordeaux-jug-2019</a></p>
					<p><br><i class="fa fa-github"></i> <a href="https://github.com/PierreBesson/demo-jhipster-bordeaux-jug-2019">PierreBesson/demo-jhipster-bordeaux-jug-2019</a>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				controls: false,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
